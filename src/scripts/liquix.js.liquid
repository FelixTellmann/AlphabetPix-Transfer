window.slate = window.slate || {};
window.theme = window.theme || {};

/*================ Slate ================*/
// =require slate/a11y.js
// =require slate/cart.js
// =require slate/utils.js
// =require slate/rte.js
// =require slate/sections.js
// =require slate/currency.js
// =require slate/images.js
// =require slate/variants.js

/*================ Sections ================*/
// =require sections/product.js
// =require sections/portfolio.js
// =require sections/process.js
// =require sections/image-slideshow.js
// =require sections/testimonial-slideshow.js
// =require sections/create.js
// =require sections/grid-images.js

/*================ Templates ================*/
// =require templates/customers-addresses.js
// =require templates/customers-login.js

/*================ Modules ================*/
// =require modules/smooth-scroll.js
// =require modules/scroll-animations.js


$(document).ready(function() {
  var sections = new slate.Sections();
  sections.register('create-section', theme.Create);
  sections.register('slider-section', theme.Slider);
  sections.register('testimonials-section', theme.TestimonialSlider);
  sections.register('grid-images-section', theme.GridImages);
  sections.register('theme-collection-section');
  // Common a11y fixes
  slate.a11y.pageLinkFocus($(window.location.hash));

  $('.in-page-link').on('click', function(evt) {
    slate.a11y.pageLinkFocus($(evt.currentTarget.hash));
  });

  // Wrap videos in div to force responsive layout.
  slate.rte.wrapTable();
  slate.rte.iframeReset();

  // Apply a specific class to the html element for browser support of cookies.
  if (slate.cart.cookiesEnabled()) {
    document.documentElement.className = document.documentElement.className.replace('supports-no-cookies', 'supports-cookies');
  }
});
