<div data-section-id="{{ section.id }}" data-section-type="slider-section">
  
  {% if section.blocks.size > 0 %}
    <div class="slider-wrapper">
      
      <div class="slider" id="Slider-{{ section.id }}" data-autoplay="{{ section.settings.autoplay }}" data-speed="{{ section.settings.autoplay_speed }}" data-section-id="{{ section.id }}">
        {% for block in section.blocks %}
          <div class="slider__slide-wrapper" data-block-id="{{ block.id }}" {{ block.shopify_attributes }} {% unless forloop.first %} style="display: none;" {% endunless %}>
            <figure class="slider__image-wrapper" {% comment %}{#style="height: {{ section.settings.slideshow_height }}"#}{% endcomment %}>
              <img class="slider__image lazyload"
                      {% assign img_url = block.settings.image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' %}
                   src="{{ block.settings.image | img_url: '2000x' }}"
                   data-src="{{ img_url }}"
                   data-widths="[540, 900, 1512, 2048]"
                   data-aspectratio="{{ block.settings.image.aspect_ratio }}"
                   data-sizes="auto"
                   data-parent-fit="cover"
                   alt="{{ block.settings.image.alt | escape }}">
              <figure class="slider__frame {% if block.settings.scroll_animation != blank %}{{ block.settings.scroll_animation }}{% endif %}" data-block-id="{{ block.id }}" >
                <style>
                  .slider__frame[data-block-id="{{ block.id }}"] {
                  {{ block.settings.css }}
                  }
                </style>
                <img class="slider__image slider__image--frame lazyload"
                        {% assign img_url = block.settings.frame | img_url: '1x1' | replace: '_1x1.', '_{width}x.' %}
                     src="{{ block.settings.frame | img_url: '900x' }}"
                     data-src="{{ img_url }}"
                     data-widths="[540, 900, 1512, 2048]"
                     data-aspectratio="{{ block.settings.frame.aspect_ratio }}"
                     data-sizes="auto"
                     data-parent-fit="cover"
                     alt="{{ block.settings.frame.alt | escape }}"
                     data-block-id="{{ block.id }}">
              </figure>
            </figure>
          </div>
        {% endfor %}
      </div>
    </div>
  {% endif %}
</div>


{% comment %}{#<!--@formatter:off-->#}{% endcomment %}
{% schema %}
  {
    "name": "Slideshow",
    "class": "index-section index-section--slider",
    "settings": [
      {
        "type": "checkbox",
        "id": "autoplay",
        "label": "Auto-rotate slides",
        "default": false
      },
      {
        "type": "select",
        "id": "autoplay_speed",
        "label": "Change slides every",
        "options": [
          { "value": "5000", "label": "5 seconds" },
          { "value": "6000", "label": "6 seconds" },
          { "value": "7000", "label": "7 seconds" },
          { "value": "8000", "label": "8 seconds" },
          { "value": "9000", "label": "9 seconds" },
          { "value": "10000", "label": "10 seconds" }
        ],
        "default": "7000"
      },
      {
        "type": "select",
        "id": "slideshow_height",
        "label": "Section height",
        "default": "800px",
        "options": [
          {
            "label": "Small",
            "value": "400px"
          },
          {
            "label": "Medium",
            "value": "600px"
          },
          {
            "label": "Large",
            "value": "800px"
          }
        ]
      },
      {
        "type": "select",
        "id": "text_size",
        "label": "Text size",
        "default": "medium",
        "options": [
          {
            "label": "Medium",
            "value": "medium"
          },
          {
            "label": "Large",
            "value": "large"
          }
        ]
      }
    ],
    "blocks": [
      {
        "type": "image",
        "name": "Image slide",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          },
          {
            "type": "image_picker",
            "id": "frame",
            "label": "Frame"
          },
          {
            "type": "text",
            "id": "scroll_animation",
            "label": "Animation"
          },
          {
            "type": "textarea",
            "id": "css",
            "label": "CSS Positioning"
          }
        ]
      }
    ],
    "presets": [{
      "name": "Slideshow",
      "category": "Section",
      "settings": {
        "autoplay": true,
        "autoplay_speed": "5000"
      },
      "blocks": [
        {
          "type": "image"
        },
        {
          "type": "image"
        }
      ]
    }]
  }
{% endschema %}
{% comment %}{#<!--@formatter:on-->#}{% endcomment %}